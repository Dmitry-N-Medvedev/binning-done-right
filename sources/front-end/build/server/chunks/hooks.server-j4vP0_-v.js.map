{"version":3,"file":"hooks.server-j4vP0_-v.js","sources":["../../../.svelte-kit/adapter-node/chunks/hooks.server.js"],"sourcesContent":["const PUBLIC_WS_PROTO = \"wss\";\nconst PUBLIC_WS_HOST = \"wss-enercon.denebkaitos.tech\";\nconst PUBLIC_WS_PORT = \"443\";\nconst PUBLIC_WEB_PROTO = \"https\";\nconst PUBLIC_WEB_HOST = \"enercon.denebkaitos.tech\";\nconst PUBLIC_WEB_PORT = '\"443\"%';\nconst PUBLIC_WEB_DEBUG_PORT = \"5173\";\nconsole.log({ PUBLIC_WEB_HOST });\nconst quotableStatements = Object.freeze([\"none\", \"self\", \"unsafe-inline\"]);\nconst quote = (statement) => {\n  return quotableStatements.includes(statement) ? `'${statement}'` : statement;\n};\nconst cspDirectives = {\n  \"default-src\": [\"none\"],\n  \"img-src\": [\"self\"],\n  \"font-src\": [\"self\"],\n  \"manifest-src\": [\"self\"],\n  \"style-src\": [\"self\", \"unsafe-inline\"],\n  \"script-src\": [\"self\", \"unsafe-inline\"],\n  \"connect-src\": [\n    \"self\",\n    // svelte front-end\n    `${PUBLIC_WEB_PROTO}://${PUBLIC_WEB_HOST}:${PUBLIC_WEB_PORT}`,\n    // svelte dev server's port\n    `${PUBLIC_WS_PROTO}://${PUBLIC_WEB_HOST}:${PUBLIC_WEB_DEBUG_PORT}`,\n    // API port\n    `${PUBLIC_WS_PROTO}://${PUBLIC_WS_HOST}:${PUBLIC_WS_PORT}`\n  ],\n  \"report-to\": [`${PUBLIC_WEB_PROTO}://${PUBLIC_WS_HOST}:${PUBLIC_WS_PORT}/csp-violation-report`]\n};\nconst DIRECTIVES = Object.entries(cspDirectives).map(([key, values]) => `${key} ${values.map((value) => `${quote(value)}`).join(\" \")}`).join(\";\");\nasync function handle({ event, resolve }) {\n  const response = await resolve(event);\n  response.headers.set(\"Content-Security-Policy-Report-Only\", DIRECTIVES);\n  return response;\n}\nexport {\n  handle\n};\n"],"names":[],"mappings":"AAAA,MAAM,eAAe,GAAG,KAAK,CAAC;AAC9B,MAAM,cAAc,GAAG,8BAA8B,CAAC;AACtD,MAAM,cAAc,GAAG,KAAK,CAAC;AAC7B,MAAM,gBAAgB,GAAG,OAAO,CAAC;AACjC,MAAM,eAAe,GAAG,0BAA0B,CAAC;AACnD,MAAM,eAAe,GAAG,QAAQ,CAAC;AACjC,MAAM,qBAAqB,GAAG,MAAM,CAAC;AACrC,OAAO,CAAC,GAAG,CAAC,EAAE,eAAe,EAAE,CAAC,CAAC;AACjC,MAAM,kBAAkB,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,MAAM,EAAE,eAAe,CAAC,CAAC,CAAC;AAC5E,MAAM,KAAK,GAAG,CAAC,SAAS,KAAK;AAC7B,EAAE,OAAO,kBAAkB,CAAC,QAAQ,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC;AAC/E,CAAC,CAAC;AACF,MAAM,aAAa,GAAG;AACtB,EAAE,aAAa,EAAE,CAAC,MAAM,CAAC;AACzB,EAAE,SAAS,EAAE,CAAC,MAAM,CAAC;AACrB,EAAE,UAAU,EAAE,CAAC,MAAM,CAAC;AACtB,EAAE,cAAc,EAAE,CAAC,MAAM,CAAC;AAC1B,EAAE,WAAW,EAAE,CAAC,MAAM,EAAE,eAAe,CAAC;AACxC,EAAE,YAAY,EAAE,CAAC,MAAM,EAAE,eAAe,CAAC;AACzC,EAAE,aAAa,EAAE;AACjB,IAAI,MAAM;AACV;AACA,IAAI,CAAC,EAAE,gBAAgB,CAAC,GAAG,EAAE,eAAe,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;AACjE;AACA,IAAI,CAAC,EAAE,eAAe,CAAC,GAAG,EAAE,eAAe,CAAC,CAAC,EAAE,qBAAqB,CAAC,CAAC;AACtE;AACA,IAAI,CAAC,EAAE,eAAe,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,EAAE,cAAc,CAAC,CAAC;AAC9D,GAAG;AACH,EAAE,WAAW,EAAE,CAAC,CAAC,EAAE,gBAAgB,CAAC,GAAG,EAAE,cAAc,CAAC,CAAC,EAAE,cAAc,CAAC,qBAAqB,CAAC,CAAC;AACjG,CAAC,CAAC;AACF,MAAM,UAAU,GAAG,MAAM,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,KAAK,KAAK,CAAC,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAClJ,eAAe,MAAM,CAAC,EAAE,KAAK,EAAE,OAAO,EAAE,EAAE;AAC1C,EAAE,MAAM,QAAQ,GAAG,MAAM,OAAO,CAAC,KAAK,CAAC,CAAC;AACxC,EAAE,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,qCAAqC,EAAE,UAAU,CAAC,CAAC;AAC1E,EAAE,OAAO,QAAQ,CAAC;AAClB;;;;"}